<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.hippobookproject.mapper.main.NovelMapper">
    <select id="selectAll" resultType="NovelListDto">
        SELECT NOVEL_TITLE, NOVEL_CONTENT, USER_ID, USER_NICKNAME, NOVEL_ID,PHOTO_FILE_ID, FILE_NAME, FILE_UPLOAD_PATH, FILE_UUID
        FROM (SELECT NOVEL_TITLE, NOVEL_CONTENT, U.USER_ID, U.USER_NICKNAME, NOVEL_ID,
                     PP.PHOTO_FILE_ID, PP.FILE_NAME, PP.FILE_UPLOAD_PATH, PP.FILE_UUID
            FROM TBL_NOVEL N JOIN TBL_USER U
                ON N.USER_ID = U.USER_ID
             LEFT JOIN TBL_PROFILE_PHOTO PP on U.USER_ID = PP.USER_ID
                 ORDER BY NOVEL_ID DESC)
        WHERE <![CDATA[ROWNUM < =4]]>
    </select>


</mapper>